<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MDS v4.0 - Emoji Field Demo</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      background: #0e0f12;
      color: #eee;
      overflow: hidden;
      font-family: system-ui, -apple-system, sans-serif;
    }

    .mds-entity {
      position: absolute;
      font-size: 40px;
      user-select: none;
      will-change: transform, opacity, filter;
      transition: filter 0.2s ease;
      cursor: pointer;
    }

    .mds-field {
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(
        circle,
        rgba(255, 200, 100, 0.2) 0%,
        rgba(255, 200, 100, 0.05) 50%,
        transparent 100%
      );
      pointer-events: none;
      animation: field-pulse 2s ease-in-out infinite;
    }

    @keyframes field-pulse {
      0%, 100% { opacity: 0.6; transform: scale(1); }
      50% { opacity: 0.8; transform: scale(1.05); }
    }

    .info {
      position: fixed;
      top: 20px;
      left: 20px;
      font-size: 14px;
      line-height: 1.6;
      background: rgba(0, 0, 0, 0.5);
      padding: 16px;
      border-radius: 8px;
      max-width: 320px;
    }

    .info h2 {
      margin: 0 0 12px;
      font-size: 18px;
      color: #ffdc78;
    }

    .info p {
      margin: 8px 0;
      color: #ccc;
    }

    .info code {
      background: rgba(255, 255, 255, 0.1);
      padding: 2px 6px;
      border-radius: 3px;
      font-size: 12px;
    }
  </style>
</head>
<body>
  <div class="info">
    <h2>üåå MDS v4.0 Demo A</h2>
    <p><strong>Emoji Field Interaction</strong></p>
    <p>üíå Shy paper - Hover 3 times to make it slide away</p>
    <p>üê• Curious paper - Leans in when hovered</p>
    <p>‚ú® When they get close (&lt;80px), a trust field spawns</p>
    <p>‚è±Ô∏è Papers fade naturally over time (decay rate)</p>
  </div>

  <script type="module">
    import { Engine, loadMaterial } from '../dist/mds-core.esm.js'

    // Initialize engine
    const engine = new Engine()

    // Load materials
    const shy = await loadMaterial('./paper.shy.mdspec.json')
    const curious = await loadMaterial('./paper.curious.mdspec.json')
    const ftrust = await fetch('./field.trust.core.mdspec.json').then(r => r.json())

    // Spawn entities
    const a = engine.spawn(shy, 120, 180)
    const b = engine.spawn(curious, 360, 220)

    // Setup proximity trigger for field spawning
    let fieldSpawned = false
    a.onProximity = (eng, other, dist) => {
      if (dist < 80 && !fieldSpawned) {
        const midX = (a.x + other.x) / 2
        const midY = (a.y + other.y) / 2
        eng.spawnField(ftrust, midX, midY)
        fieldSpawned = true
        // Allow spawning again after 10 seconds
        setTimeout(() => fieldSpawned = false, 10000)
      }
    }
    b.onProximity = a.onProximity

    // Start simulation
    engine.start()

    console.log('üåå MDS v4.0 - Info-Physics Engine Started')
    console.log('Materials are alive. Watch them age, interact, and spawn fields.')
  </script>
</body>
</html>
