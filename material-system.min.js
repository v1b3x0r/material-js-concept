/**
 * Material System
 * A material-driven styling system for modern web applications
 * @version 1.0.0
 * @license MIT
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.MaterialSystem=t()}("undefined"!=typeof self?self:this,function(){"use strict";const e={registry:{},_theme:"light",transitionDuration:"0.3s",register(e,t){return this.registry[e]=t,this},extend(e,t,r={}){const a=this.registry[t];return a?(this.registry[e]=this._deepMerge(a,r),this):(console.warn(`MaterialSystem: Base material "${t}" not found`),this)},apply(){return document.querySelectorAll("[data-material]").forEach(e=>{this.update(e)}),this},update(e){let t=e.getAttribute("data-material");t&&t.startsWith("@")&&(t=this._resolveToken(t));const r=this.registry[t];if(!r)return;const a=this._getStylesForState(r,"base");this._applyStyles(e,a),e.style.transition||(e.style.transition=`all ${this.transitionDuration} ease`),this._setupStateHandlers(e,r)},setTheme(e){return"dark"!==e&&"light"!==e?(console.warn(`MaterialSystem: Invalid theme "${e}". Use 'dark' or 'light'.`),this):(this._theme=e,document.documentElement.setAttribute("data-theme",e),document.body.setAttribute("data-theme",e),this.apply(),this)},getTheme(){return this._theme},init(){return this._registerBuiltInMaterials(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.apply()):this.apply(),this._observeDOMChanges(),this},_getStylesForState(e,t){const r=e.base||{},a=e[this._theme]||{};return{...r,...e[t]||{},...a,...e[this._theme]&&e[this._theme][t]||{}}},_applyStyles(e,t){Object.keys(t).forEach(r=>{if("base"!==r&&"hover"!==r&&"active"!==r&&"focus"!==r&&"disabled"!==r&&"dark"!==r&&"light"!==r){const a=r.replace(/([A-Z])/g,"-$1").toLowerCase();e.style.setProperty(a,t[r])}})},_isInteractiveElement(e){const t=e.tagName.toLowerCase();return!!["button","a","input","select","textarea","label"].includes(t)||(!(!e.hasAttribute("role")||!["button","link","tab"].includes(e.getAttribute("role")))||(!(!e.hasAttribute("tabindex")||"-1"===e.getAttribute("tabindex"))||!(!e.onclick&&!e.hasAttribute("onclick"))))},_setupStateHandlers(e,t){e._materialHandlers?.forEach(({event:t,handler:r})=>{e.removeEventListener(t,r)});const r=[],a=this._isInteractiveElement(e);if(t.hover&&a){const a=()=>{if(!e.disabled){const r=this._getStylesForState(t,"hover");this._applyStyles(e,r)}},s=()=>{if(!e.disabled){const r=this._getStylesForState(t,"base");this._applyStyles(e,r)}};e.addEventListener("mouseenter",a),e.addEventListener("mouseleave",s),r.push({event:"mouseenter",handler:a}),r.push({event:"mouseleave",handler:s})}if(t.active&&a){const a=()=>{if(!e.disabled){const r=this._getStylesForState(t,"active");this._applyStyles(e,r)}},s=()=>{if(!e.disabled){const r=t.hover?this._getStylesForState(t,"hover"):this._getStylesForState(t,"base");this._applyStyles(e,r)}};e.addEventListener("mousedown",a),e.addEventListener("mouseup",s),r.push({event:"mousedown",handler:a}),r.push({event:"mouseup",handler:s})}if(t.focus){const a=()=>{if(!e.disabled){const r=this._getStylesForState(t,"focus");this._applyStyles(e,r)}},s=()=>{if(!e.disabled){const r=this._getStylesForState(t,"base");this._applyStyles(e,r)}};e.addEventListener("focus",a),e.addEventListener("blur",s),r.push({event:"focus",handler:a}),r.push({event:"blur",handler:s})}if(e.disabled&&t.disabled){const r=this._getStylesForState(t,"disabled");this._applyStyles(e,r)}e._materialHandlers=r},_resolveToken(e){const t=e.substring(1).split(".");let r=this.tokens;for(const a of t)if(r=r[a],void 0===r)return console.warn(`MaterialSystem: Token "${e}" not found`),null;return r},_deepMerge(e,t){const r={...e};return Object.keys(t).forEach(a=>{t[a]&&"object"==typeof t[a]&&!Array.isArray(t[a])?r[a]=this._deepMerge(e[a]||{},t[a]):r[a]=t[a]}),r},_observeDOMChanges(){new MutationObserver(e=>{e.forEach(e=>{"attributes"===e.type&&"data-material"===e.attributeName&&this.update(e.target),e.addedNodes.forEach(e=>{1===e.nodeType&&(e.hasAttribute("data-material")&&this.update(e),e.querySelectorAll("[data-material]").forEach(e=>{this.update(e)}))})})}).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-material"]})},_registerBuiltInMaterials(){this.register("glass",{base:{backgroundColor:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(8px) saturate(180%)",WebkitBackdropFilter:"blur(8px) saturate(180%)",border:"1px solid rgba(255, 255, 255, 0.25)",borderTop:"1px solid rgba(255, 255, 255, 0.4)",color:"#ffffff",boxShadow:"\n            inset 0 0 0 1px rgba(255, 255, 255, 0.2),\n            inset 1.8px 3px 0px -2px rgba(255, 255, 255, 0.9),\n            inset -2px -2px 0px -2px rgba(255, 255, 255, 0.8),\n            inset -3px -8px 1px -6px rgba(255, 255, 255, 0.6),\n            inset -0.3px -1px 4px 0px rgba(0, 0, 0, 0.12),\n            inset -1.5px 2.5px 0px -2px rgba(0, 0, 0, 0.2),\n            inset 0px 3px 4px -2px rgba(0, 0, 0, 0.2),\n            inset 2px -6.5px 1px -4px rgba(0, 0, 0, 0.1),\n            0px 1px 5px 0px rgba(0, 0, 0, 0.2),\n            0px 6px 16px 0px rgba(0, 0, 0, 0.16)\n          ",transition:"background-color 400ms cubic-bezier(1, 0, 0.4, 1), box-shadow 400ms cubic-bezier(1, 0, 0.4, 1)"},hover:{backgroundColor:"rgba(255, 255, 255, 0.18)",borderTop:"1px solid rgba(255, 255, 255, 0.5)",boxShadow:"\n            inset 0 0 0 1px rgba(255, 255, 255, 0.25),\n            inset 1.8px 3px 0px -2px rgba(255, 255, 255, 0.95),\n            inset -2px -2px 0px -2px rgba(255, 255, 255, 0.85),\n            inset -3px -8px 1px -6px rgba(255, 255, 255, 0.65),\n            inset -0.3px -1px 4px 0px rgba(0, 0, 0, 0.14),\n            inset -1.5px 2.5px 0px -2px rgba(0, 0, 0, 0.22),\n            inset 0px 3px 4px -2px rgba(0, 0, 0, 0.22),\n            inset 2px -6.5px 1px -4px rgba(0, 0, 0, 0.12),\n            0px 2px 8px 0px rgba(0, 0, 0, 0.22),\n            0px 8px 20px 0px rgba(0, 0, 0, 0.18)\n          ",transform:"translateY(-2px)"},active:{backgroundColor:"rgba(255, 255, 255, 0.08)",transform:"translateY(0) scale(0.98)"},disabled:{opacity:"0.5",cursor:"not-allowed"},light:{backgroundColor:"rgba(0, 0, 0, 0.08)",backdropFilter:"blur(8px) saturate(200%)",WebkitBackdropFilter:"blur(8px) saturate(200%)",border:"1px solid rgba(255, 255, 255, 0.3)",borderTop:"1px solid rgba(255, 255, 255, 0.5)",color:"#224",boxShadow:"\n            inset 0 0 0 1px rgba(255, 255, 255, 0.2),\n            inset 1.8px 3px 0px -2px rgba(255, 255, 255, 0.9),\n            inset -2px -2px 0px -2px rgba(255, 255, 255, 0.8),\n            inset -3px -8px 1px -6px rgba(255, 255, 255, 0.6),\n            inset -0.3px -1px 4px 0px rgba(0, 0, 0, 0.036),\n            inset -1.5px 2.5px 0px -2px rgba(0, 0, 0, 0.06),\n            inset 0px 3px 4px -2px rgba(0, 0, 0, 0.06),\n            inset 2px -6.5px 1px -4px rgba(0, 0, 0, 0.03),\n            0px 1px 5px 0px rgba(0, 0, 0, 0.06),\n            0px 6px 16px 0px rgba(0, 0, 0, 0.048)\n          ",hover:{backgroundColor:"rgba(0, 0, 0, 0.18)",borderTop:"1px solid rgba(255, 255, 255, 0.6)",boxShadow:"\n              inset 0 0 0 1px rgba(255, 255, 255, 0.25),\n              inset 1.8px 3px 0px -2px rgba(255, 255, 255, 0.95),\n              inset -2px -2px 0px -2px rgba(255, 255, 255, 0.85),\n              inset -3px -8px 1px -6px rgba(255, 255, 255, 0.65),\n              inset -0.3px -1px 4px 0px rgba(0, 0, 0, 0.042),\n              inset -1.5px 2.5px 0px -2px rgba(0, 0, 0, 0.066),\n              inset 0px 3px 4px -2px rgba(0, 0, 0, 0.066),\n              inset 2px -6.5px 1px -4px rgba(0, 0, 0, 0.036),\n              0px 2px 8px 0px rgba(0, 0, 0, 0.066),\n              0px 8px 20px 0px rgba(0, 0, 0, 0.054)\n            "},active:{backgroundColor:"rgba(0, 0, 0, 0.08)"}}}),this.register("paper",{base:{background:"url(\"data:image/svg+xml,%3Csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence baseFrequency='0.9' numOctaves='3' /%3E%3CfeColorMatrix values='0 0 0 0 0, 0 0 0 0 0, 0 0 0 0 0, 0 0 0 0.02 0'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23noise)' /%3E%3C/svg%3E\"), #ffffff",backgroundSize:"200px 200px, 100% 100%",border:"0.5px solid rgba(0, 0, 0, 0.08)",color:"#2d1b3d"},hover:{boxShadow:"0 4px 16px rgba(0, 0, 0, 0.15)",transform:"translateY(-2px)"},active:{boxShadow:"0 1px 4px rgba(0, 0, 0, 0.1)",transform:"translateY(0) scale(0.98)"},disabled:{opacity:"0.6",cursor:"not-allowed"},dark:{background:"url(\"data:image/svg+xml,%3Csvg width='200' height='200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence baseFrequency='0.9' numOctaves='3' /%3E%3CfeColorMatrix values='0 0 0 0 1, 0 0 0 0 1, 0 0 0 0 1, 0 0 0 0.015 0'/%3E%3C/filter%3E%3Crect width='200' height='200' filter='url(%23noise)' /%3E%3C/svg%3E\"), #1a1a1a",backgroundSize:"200px 200px, 100% 100%",color:"#e0e0e0",border:"1px solid rgba(255, 255, 255, 0.1)",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.3)"}})}};return"undefined"!=typeof window&&e.init(),e});